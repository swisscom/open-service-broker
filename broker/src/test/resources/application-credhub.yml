---
debug: true
spring:
  profiles: credhub

  jpa:
    hibernate:
      use-new-id-generator-mappings: false

  datasource:
    driverClassName: com.mysql.cj.jdbc.Driver
    url: 'jdbc:mysql://localhost/CFBroker?autoReconnect=true'
    username: root
    password:

  credhub:
    url: https://localhost:9000
    oauth2.registration-id: credhub-client
  security:
    oauth2:
      client:
        registration:
          credhub-client:
            provider: uaa
            client-id: credhub_client
            client-secret: secret
            authorization-grant-type: client_credentials
          bosh-client:
            provider: uaa
            client-id: credhub_client
            client-secret: secret
            authorization-grant-type: client_credentials
        provider:
          uaa:
            token-uri: http://localhost:9081/uaa/oauth/token

management:
  metrics:
    export:
      influx:
        enabled: false
        uri: http://localhost:8086
        step: 60s
        userName:
        db: osb_metrics
        env: "local"
    enable:
      jvm: false
      dataSource: false
      process: false
      system: false
      http: false
      logback: false


# Sets the Credential Store to a CredHub instance
osb:
  credential:
    store: "credhub"

# Credhub Certificate parameters
com.swisscom.cloud.sb.broker.credhub:
  url: https://localhost:9000
  oauth2.registration-id: credhub-client
  keyLength: LENGTH_2048
  commonName:
  organization: ServiceBroker
  organizationUnit: SB
  locality: Bern
  state: Bern
  country: CH
  duration: 365
  certificateAuthority: false
  certificateAuthorityCredential:
  selfSign: false

com.swisscom.cloud.sb.broker.bosh.credhub:
  url: https://localhost:9000
  oauth2.registration-id: bosh-client
  keyLength: LENGTH_2048
  commonName:
  organization: ServiceBroker
  organizationUnit: SB
  locality: Bern
  state: Bern
  country: CH
  duration: 365
  certificateAuthority: false
  certificateAuthorityCredential:
  selfSign: false


com.swisscom.cloud.sb.broker.serviceDefinitions: [
{
  "guid": "7a495d86-73dc-4903-9b0b-140c9b011610",
  "name": "credHubTest",
  "description": "CredHub 2.0.0 Test",
  "bindable": true,
  "asyncRequired": false,
  "internalName": "credHub",
  "displayIndex": 1,
  "metadata": {
    "version": "2.0.0",
    "displayName": "CredHub",
    "bullets": [
      "Secure Store"
    ]
  },
  "plans": [
  {
    "guid": "0ef19631-1212-47cc-9c77-22d78ddaae3a",
    "name": "test",
    "description": "CredHub 2.0.0 Test",
    "free": false,
    "displayIndex": 0,
    "metadata": {
      "displayName": "test"
    }
  }
  ]
}]